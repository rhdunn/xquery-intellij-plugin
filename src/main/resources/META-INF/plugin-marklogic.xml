<idea-plugin>
  <extensions defaultExtensionNs="com.intellij">
    <!-- Rewriter XML -->
    <microservices.endpointsProvider implementation="uk.co.reecedunn.intellij.plugin.marklogic.xml.rewriter.endpoints.RewriterEndpointsProvider"/>
    <multiHostInjector implementation="uk.co.reecedunn.intellij.plugin.marklogic.xml.rewriter.lang.ModelTypeRegexLanguageInjection"/>
    <completion.contributor language="XML" implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.xml.rewriter.completion.RewriterCompletionContributor"/>
    <completion.contributor language="XQuery" implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.xml.rewriter.completion.RewriterCompletionContributor"/>
    <psi.referenceContributor implementation="uk.co.reecedunn.intellij.plugin.marklogic.xml.rewriter.reference.RewriterReferenceContributor"/>
    <codeInsight.lineMarkerProvider language="XQuery" implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.xml.rewriter.reference.RewriterLineMarkerProvider"/>

    <!-- Search Options XML -->
    <psi.referenceContributor implementation="uk.co.reecedunn.intellij.plugin.marklogic.xml.search.options.reference.SearchOptionsAtReferenceContributor"/>
    <psi.referenceContributor implementation="uk.co.reecedunn.intellij.plugin.marklogic.xml.search.options.reference.SearchOptionsApplyReferenceContributor"/>

    <!-- XRay Unit Tests -->
    <projectService serviceImplementation="uk.co.reecedunn.intellij.plugin.marklogic.xray.test.XRayTestService"/>
    <configurationType implementation="uk.co.reecedunn.intellij.plugin.marklogic.xray.configuration.XRayTestConfigurationType"/>
    <runConfigurationProducer implementation="uk.co.reecedunn.intellij.plugin.marklogic.xray.test.XRayTestRunConfigurationProducer"/>
    <runLineMarkerContributor language="XMLPath" implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.xray.test.XRayTestRunLineMarkerProvider"/>

    <!-- Error Logs -->
    <fileType name="MLErrorLog" language="MLErrorLog" patterns="ErrorLog.txt;*_ErrorLog.txt;ErrorLog_*.txt;*_ErrorLog_*.txt"
              implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.log.fileTypes.MarkLogicErrorLogFileType"
              fieldName="INSTANCE"/>

    <lang.parserDefinition language="MLErrorLog" implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.log.lang.MarkLogicErrorLog$ParserDefinition"/>
    <lang.syntaxHighlighterFactory language="MLErrorLog" implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.log.lang.highlighter.MarkLogicErrorLogSyntaxHighlighter$Factory"/>
    <annotator language="MLErrorLog" implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.log.annotation.LogLevelAnnotator"/>
  </extensions>

  <extensions defaultExtensionNs="uk.co.reecedunn.intellij">
    <!-- Roxy -->
    <projectConfigurationFactory implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.roxy.configuration.RoxyConfiguration$Companion"/>

    <!-- ml-gradle -->
    <projectConfigurationFactory implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.gradle.configuration.GradleConfiguration$Companion"/>

    <!-- Static Context -->
    <variableProvider implementationClass="uk.co.reecedunn.intellij.plugin.marklogic.model.MarkLogicBuiltInVariableProvider" fieldName="INSTANCE"/>
  </extensions>
</idea-plugin>
